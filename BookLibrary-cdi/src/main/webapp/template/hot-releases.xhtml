<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:a4j="http://richfaces.org/a4j">

    <rich:panel header="Hot Book Releases">

        <h:form>
            <rich:dataTable value="#{bookController.hotReleases}" var="hotRelease" id="hot" rows="20"
                            rowClasses="odd-row, even-row"
                            styleClass="stable" style="width:100%;">
                <rich:column>
                    <h:link styleClass="book_name" value="#{hotRelease.name}" outcome="/book.xhtml">
                        <f:param name="Id" value="#{hotRelease.id}"/>
                    </h:link>
                    <br/>
                    <h:outputText
                            value="#{hotRelease.averageRating} (#{reviewManagerImpl.countBookReviews(hotRelease)})"
                            styleClass="book_rating"/><br/>
                    <h:outputText value="#{hotRelease.publishedDate}" styleClass="book_published_date"/><br/>
                    <h:outputText value="#{hotRelease.publisher}" styleClass="book_publisher"/><br/>
                    <h:outputText value="Authors:" styleClass="book_authors"/>
                    <a4j:repeat value="#{hotRelease.authors}" var="author" rows="15" id="repeat">
                        <h:link value="#{author.firstName} #{author.secondName}" outcome="/author.xhtml">
                            <f:param name="id" value="#{author.id}"/>
                        </h:link>
                        <h:outputText value=" "/>
                    </a4j:repeat>
                </rich:column>
            </rich:dataTable>
        </h:form>

    </rich:panel>
</ui:composition>
