<ui:composition template="/template/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:rich="http://richfaces.org/rich">

    <ui:define name="title">#{msgs.HomePageTitle}</ui:define>

    <ui:define name="body">
        <rich:panel header="Books by average rating">
            <table class="rf-dt stable" width="100%">
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c" width="33%">1 star</td>
                    <td class="rf-dt-c" width="33%">*</td>
                    <td class="rf-dt-c">
                        <h:link value="#{bookController.getCountBooksByRating(1)} books" outcome="/booklist.xhtml">
                            <f:param name="byrating" value="1"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">2 star</td>
                    <td class="rf-dt-c">**</td>
                    <td class="rf-dt-c">
                        <h:link value="#{bookController.getCountBooksByRating(2)} books" outcome="/booklist.xhtml">
                            <f:param name="byrating" value="2"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">3 star</td>
                    <td class="rf-dt-c">***</td>
                    <td class="rf-dt-c">
                        <h:link value="#{bookController.getCountBooksByRating(3)} books" outcome="/booklist.xhtml">
                            <f:param name="byrating" value="3"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">4 star</td>
                    <td class="rf-dt-c">****</td>
                    <td class="rf-dt-c">
                        <h:link value="#{bookController.getCountBooksByRating(4)} books" outcome="/booklist.xhtml">
                            <f:param name="byrating" value="4"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">5 star</td>
                    <td class="rf-dt-c">*****</td>
                    <td class="rf-dt-c">
                        <h:link value="#{bookController.getCountBooksByRating(5)} books" outcome="/booklist.xhtml">
                            <f:param name="byrating" value="5"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">Without rating</td>
                    <td class="rf-dt-c">-------------------------------------------------</td>
                    <td class="rf-dt-c">
                        <h:link value="#{bookController.getCountBooksWithoutRating()} books" outcome="/booklist.xhtml">
                            <f:param name="byrating" value="0"/>
                        </h:link>
                    </td>
                </tr>
            </table>
        </rich:panel><br/>


        <rich:panel header="Authors by average rating">
            <table class="rf-dt stable" width="100%">
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c" width="33%">1 star</td>
                    <td class="rf-dt-c" width="33%">*</td>
                    <td class="rf-dt-c">
                        <h:link value="#{authorController.getCountAuthorsByRating(1)} authors"
                                outcome="/authorlist.xhtml">
                            <f:param name="byrating" value="1"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">2 star</td>
                    <td class="rf-dt-c">**</td>
                    <td class="rf-dt-c">
                        <h:link value="#{authorController.getCountAuthorsByRating(2)} authors"
                                outcome="/authorlist.xhtml">
                            <f:param name="byrating" value="2"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">3 star</td>
                    <td class="rf-dt-c">***</td>
                    <td class="rf-dt-c">
                        <h:link value="#{authorController.getCountAuthorsByRating(3)} authors"
                                outcome="/authorlist.xhtml">
                            <f:param name="byrating" value="3"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">4 star</td>
                    <td class="rf-dt-c">****</td>
                    <td class="rf-dt-c">
                        <h:link value="#{authorController.getCountAuthorsByRating(4)} authors"
                                outcome="/authorlist.xhtml">
                            <f:param name="byrating" value="4"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">5 star</td>
                    <td class="rf-dt-c">*****</td>
                    <td class="rf-dt-c">
                        <h:link value="#{authorController.getCountAuthorsByRating(5)} authors"
                                outcome="/authorlist.xhtml">
                            <f:param name="byrating" value="5"/>
                        </h:link>
                    </td>
                </tr>
                <tr class="rf-dt-r rf-dt-fst-r odd-row">
                    <td class="rf-dt-c">Without rating</td>
                    <td class="rf-dt-c">-------------------------------------------------</td>
                    <td class="rf-dt-c">
                        <h:link value="#{authorController.countAuthorsWithoutRating} authors"
                                outcome="/authorlist.xhtml">
                            <f:param name="byrating" value="0"/>
                        </h:link>
                    </td>
                </tr>
            </table>
        </rich:panel>
    </ui:define>
</ui:composition>
